<update-title title="Edit Profile | Shaastra 2016"></update-title>
<update-meta property="og:title" content="Edit Profile | Shaastra 2016"></update-meta>
<update-meta property="og:url" content="{{url}}"></update-meta>
<update-meta property="og:description" content="Shaastra is the annual technical festival of Indian Institute of Technology Madras, Chennai, India and the first ISO certified festival of its kind to be held from January 23rd to 26th 2016"></update-meta>
<update-meta property="og:image" content="http://res.cloudinary.com/shaastra-org/image/upload/c_scale,h_200,w_250,fl_lossy,f_auto,q_80/v1452365698/shaastra-2016/homepage/shaastra-top-hex.png"></update-meta>
<update-meta property="og:image:secure_url" content="https://res.cloudinary.com/shaastra-org/image/upload/c_scale,h_200,w_250,fl_lossy,f_auto,q_80/v1452365698/shaastra-2016/homepage/shaastra-top-hex.png"></update-meta>

<div class="editProfile-jumbotorn">
  <div class="container-fluid makeCenter">
    <div class="row aboutUsHeading"><b>Edit Your Details</b></div>
  </div>
  <div id="editProfile-div2" class="col-sm-offset-4 col-sm-4">
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

        <form class="form" name="form" ng-submit="updateProfile(form)" novalidate>

          <div class="form-group" ng-class="{ 'has-success': form.name.$valid && submitted,
                                              'has-error': form.name.$invalid && submitted }">
            <label>First name</label>

            <input type="text" name="name" class="form-control" ng-model="user.name"
              required>
            <span class="help-block" ng-show="form.name.$error.required && submitted">
              First name is required
            </span>
            <span class="help-block" ng-show="form.name.$error.mongoose">
              {{ errors.name }}
            </span>
          </div>

          <div class="form-group" ng-class="{ 'has-success': form.secondName.$valid && submitted,
                                              'has-error': form.secondName.$invalid && submitted }">
            <label>Second name</label>

            <input type="text" name="secondName" class="form-control" ng-model="user.secondName"
              required>
            <span class="help-block" ng-show="form.secondName.$error.required && submitted">
              Second name is required
            </span>
            <span class="help-block" ng-show="form.secondName.$error.mongoose">
              {{ errors.name }}
            </span>
          </div>

          <div class="form-group" ng-class="{ 'has-success': form.email.$valid && submitted,
                                              'has-error': form.email.$invalid && submitted }">
            <label>Email</label>

            <input type="text" name="email" class="form-control" ng-model="user.email"
              required
              ng-pattern="/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i">
            <span class="help-block" ng-show="(form.email.$error.required || form.email.$error.pattern) && submitted">
              Enter valid email id
            </span>
            <span class="help-block" ng-show="form.email.$error.mongoose">
              {{ errors.name }}
            </span>
          </div>

          <div class="form-group" ng-class="{ 'has-success': form.phoneNumber.$valid && submitted,
                                              'has-error': form.phoneNumber.$invalid && submitted }">
            <label>Mobile Number</label>

            <input type="text" name="phoneNumber" class="form-control" ng-model="user.phoneNumber"
              ng-pattern="/^\d{10}$/"
              required>
            <span class="help-block">Do not include 0 or +91 before your 10 digit number</span>
            <span class="help-block" 
               ng-show="(form.phoneNumber.$error.pattern || form.phoneNumber.$error.required) && submitted">
              Phone Number must be of 10 digits
            </span>
            <span class="help-block" ng-show="form.phoneNumber.$error.mongoose">
              {{ errors.phoneNumber }}
            </span>          
          </div>

          <div class="form-group" ng-class="{ 'has-success': form.city.$valid && submitted,
                                                            'has-error': form.city.$invalid && submitted }">
            <div class="input-group">
              <span class="input-group-addon">
                <span class="glyphicon glyphicon-home" height="20px" width="20px" alt="city_image"></span>
              </span>
              <input type="text" name="city" ng-model="user.city" class="form-control" placeholder="Enter your City" aria-describedby="sizing-addon2" required>
            </div>
            <span class="help-block" ng-show="form.city.$error.required && submitted">
              City is required
            </span>
          </div>

          <div class="form-group" ng-class="{ 'has-success': form.state.$valid && submitted,
                                                            'has-error': form.state.$invalid && submitted }">
            <select class="form-control" required name="state" ng-model="user.state">
              <option value="" selected disabled>Choose your State</option>
              <option ng-repeat="state in states" value="{{ state }}">{{ state }}</option>
            </select>
            <span class="help-block" ng-show="(form.state.$error.required) && submitted">
              State is required
            </span>
          </div>

          <div class="form-group" ng-class="{ 'has-success': form.stream.$valid && submitted,
                                                            'has-error': form.stream.$invalid && submitted }">
            <select class="form-control" required name="stream" ng-model="user.stream">
              <option value="" selected disabled>Choose your Stream</option>
              <option ng-repeat="stream in streams" value="{{ stream }}">{{ stream }}</option>
            </select>
            <span class="help-block" ng-show="(form.stream.$error.required) && submitted">
              Stream is required
            </span>
          </div>

          <div class="form-group" ng-class="{ 'has-success': form.degree.$valid && submitted,
                                                            'has-error': form.degree.$invalid && submitted }">
            <select class="form-control" required name="degree" ng-model="user.degree">
              <option value="" selected disabled>Choose your Degree</option>
              <option ng-repeat="degree in degrees" value="{{ degree }}">{{ degree }}</option>
            </select>
            <span class="help-block" ng-show="(form.degree.$error.required) && submitted">
              Degree is required
            </span>
          </div>

          <div class="form-group">
            <input type="checkbox" name="wantAccomodation" ng-model="user.wantAccomodation">

            <label>Want Accommodation</label>
          </div>
          
          <div>
            <button ng-disabled="submitted" class="btn btn-primary btn-login btndownl" type="submit">Save Changes</button>
            <span><b>{{ message }}</b></span>
          </div>

        </form>
    
      </div>
    </div>
  </div>
</div>

<div ng-include="'views/sticky-footer.html'"></div>
